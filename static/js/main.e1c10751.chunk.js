(this["webpackJsonpmy-books"]=this["webpackJsonpmy-books"]||[]).push([[0],{118:function(e,t,a){e.exports={button:"List_button__4xVTT",table:"List_table__1gcNw"}},17:function(e,t,a){e.exports={bg:"Add_bg__1o8Zb",add:"Add_add__2R8C4",input_title:"Add_input_title__mpHJn",input_comment:"Add_input_comment__2jZdj",input_author:"Add_input_author__eD9w0",input_url:"Add_input_url__39s_j",required:"Add_required__3YGwd",input_area:"Add_input_area__1z3Ae",input:"Add_input__22IXh",button_area:"Add_button_area__2aIC6",button:"Add_button__2BE38",button_logout:"Add_button_logout__3Nw9o"}},18:function(e,t,a){e.exports={bg:"Edit_bg__2emV5",edit:"Edit_edit__2VW7b",input_title:"Edit_input_title__3Uml5",input_comment:"Edit_input_comment__3cKGG",input_author:"Edit_input_author__2lbRB",input_url:"Edit_input_url__2711Q",required:"Edit_required__2gP33",input_area:"Edit_input_area__2ngiU",input:"Edit_input__IXmXt",button_area:"Edit_button_area__g3CRY",button:"Edit_button__Puq73",button_logout:"Edit_button_logout__17acE"}},184:function(e,t,a){e.exports={layout:"Layout_layout__3HtPY"}},185:function(e,t,a){e.exports={book:"Book_book__2_xGt",title:"Book_title__qJ8CP",link_detail_title:"Book_link_detail_title__3I5bv",author:"Book_author__PlGie",link_detail_author:"Book_link_detail_author__3KFuo",created:"Book_created__2O9xQ",tooltips:"Book_tooltips__1CINJ",button_url:"Book_button_url__3mbOl",button_edit:"Book_button_edit__21ALi",button_remove:"Book_button_remove__2Uz3y"}},21:function(e,t,a){e.exports={signin_row:"Signin_signin_row__2MSlG",signin_title:"Signin_signin_title__Q5bMW",signin_subtitle:"Signin_signin_subtitle__36Jj2",signin_underline:"Signin_signin_underline__2mWLl",signin_contents:"Signin_signin_contents__1W233",signin_bg:"Signin_signin_bg__2qtLl",email_title:"Signin_email_title__1ijz7",password_title:"Signin_password_title__3IJSX",required:"Signin_required__2dXCw",input_area:"Signin_input_area__3Y_7c",input:"Signin_input__2l2XT",button_area:"Signin_button_area__3ItI3",button:"Signin_button__hhDOU"}},221:function(e,t,a){e.exports=a(364)},231:function(e,t,a){},364:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),l=a(15),u=(a(230),a(231),a(117));function i(){return Object(l.e)((function(e){return e.auth.token}))}var s=a(371),m=a(43),d=a(367),_=a(118),b=a.n(_),p=a(184),f=a.n(p),k=function(e){var t=e.children;return r.a.createElement("div",{className:f.a.layout},t)},g=a(185),E=a.n(g),v=a(186),O=a.n(v),h=a(375),j=a(376),x=a(377),N=a(378),y=a(115);function w(e){return e<10?"0"+e:e}var B,A=O.a.bind(E.a),S=function(e){var t=e.bookResType,a=t.bookId,n=t.title,o=t.author,c=t.createdAt,l=t.url,u=e.goDetail,i=e.goEdit,s=e.removeBook;return r.a.createElement("div",{className:A("book")},r.a.createElement("h5",{className:A("title","link_detail_title"),onClick:function(){return u(a)}},r.a.createElement(h.a,null)," ",n),r.a.createElement("span",{className:A("author","link_detail_author"),onClick:function(){return u(a)}},o),r.a.createElement("span",{className:A("created")},function(e){var t=new Date(e),a=w(t.getMonth()+1),n=w(t.getDate()),r=t.getFullYear(),o=t.getHours(),c=w(t.getMinutes()),l="am",u=o;return u>12?(l="pm",o=u-12):0===u&&(o="12"),a+"-"+n+"-"+r+" "+(o=w(o))+":"+c+" "+l}(c)),r.a.createElement("div",{className:A("tooltips")},r.a.createElement(y.a,{title:l},r.a.createElement(m.a,{size:"small",type:"primary",shape:"circle",icon:r.a.createElement(j.a,null),className:A("button_url"),onClick:function(){return u(a)}})),r.a.createElement(y.a,{title:"Edit"},r.a.createElement(m.a,{size:"small",shape:"circle",icon:r.a.createElement(x.a,null),className:A("button_edit"),onClick:function(){return i(a)}})),r.a.createElement(y.a,{title:"Delete"},r.a.createElement(m.a,{size:"small",shape:"circle",icon:r.a.createElement(N.a,null),className:A("button_remove"),onClick:function(){return s(a)}}))))},C=function(e){var t=e.books,a=e.loading,n=e.goAdd,o=e.logout,c=e.goDetail,l=e.goEdit,u=e.removeBook;return r.a.createElement(k,null,r.a.createElement(s.a,{title:r.a.createElement("div",null,"Book List"),extra:[r.a.createElement(m.a,{key:"2",type:"primary",className:b.a.button,onClick:n},"Add Book"),r.a.createElement(m.a,{key:"1",type:"primary",className:b.a.button,onClick:o},"Logout")]}),r.a.createElement("img",{src:"/bg_list.png",style:{width:"100%"},alt:"books"}),r.a.createElement(d.a,{dataSource:t||[],columns:[{title:"Book",dataIndex:"book",key:"book",render:function(e,t){return r.a.createElement(S,{bookResType:t,goDetail:c,goEdit:l,removeBook:function(){return u(t.bookId)},key:t.bookId})}}],loading:null===t||a,showHeader:!1,className:b.a.table,rowKey:"bookId",pagination:!1}))},I=a(216),R=a(7),D=a.n(R),q=a(92),L=a(74),T=a(5),U=a(22),z=a(62),G=a(86),K=a(87),P=a(63),F=a.n(P),W="https://api.marktube.tv/v1/book",M=function(){function e(){Object(G.a)(this,e)}return Object(K.a)(e,null,[{key:"getBooks",value:function(){var e=Object(z.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get(W,{headers:{Authorization:"Bearer ".concat(t)}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addBook",value:function(){var e=Object(z.a)(D.a.mark((function e(t,a){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post(W,a,{headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"editBook",value:function(){var e=Object(z.a)(D.a.mark((function e(t,a,n){var r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.patch("".concat(W,"/").concat(a),n,{headers:{Authorization:"Bearer ".concat(t)}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"deleteBook",value:function(){var e=Object(z.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.delete("".concat(W,"/").concat(a),{headers:{Authorization:"Bearer ".concat(t)}});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}();function X(e){return e.auth.token}function V(e){return e.books.books}var Y=D.a.mark(re),J=D.a.mark(oe),H=D.a.mark(ce),Q=D.a.mark(le),Z=D.a.mark(ue),$=Object(L.createAsyncAction)("my-books/books/BOOKS_PENDING","my-books/books/BOOKS_SUCCESS","my-books/books/BOOKS_FAILURE")(),ee=Object(L.createAction)("my-books/books/BOOKS_GETLIST")(),te=Object(L.createAction)("my-books/books/BOOK_ADD",(function(e){return e}))(),ae=Object(L.createAction)("my-books/books/BOOK_EDIT",(function(e){return e}))(),ne=Object(L.createAction)("my-books/books/BOOK_REMOVE",(function(e){return e}))();function re(e){var t,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(T.c)($.request());case 3:return e.next=5,Object(T.d)(X);case 5:return t=e.sent,e.next=8,Object(T.b)(M.getBooks,t);case 8:return a=e.sent,e.next=11,Object(T.c)($.success(a));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),e.next=17,Object(T.c)($.failure(e.t0));case 17:case"end":return e.stop()}}),Y,null,[[0,13]])}function oe(e){var t,a,n;return D.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(T.c)($.request());case 3:return r.next=5,Object(T.d)(X);case 5:return t=r.sent,r.next=8,Object(T.d)(V);case 8:return a=r.sent,r.next=11,Object(T.b)(M.addBook,t,e.payload);case 11:return n=r.sent,r.next=14,Object(T.c)($.success([].concat(Object(I.a)(a),[n])));case 14:return r.next=16,Object(T.c)(Object(U.e)("/"));case 16:r.next=22;break;case 18:return r.prev=18,r.t0=r.catch(0),r.next=22,Object(T.c)($.failure(r.t0));case 22:case"end":return r.stop()}}),J,null,[[0,18]])}function ce(e){var t,a,n,r;return D.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(T.c)($.request());case 3:return o.next=5,Object(T.d)(X);case 5:return t=o.sent,o.next=8,Object(T.d)(V);case 8:return a=o.sent,o.next=11,Object(T.b)(M.editBook,t,e.payload.bookId,e.payload.bookReq);case 11:return n=o.sent,r=a.map((function(e){return e.bookId===n.bookId?n:e})),o.next=15,Object(T.c)($.success(r));case 15:return o.next=17,Object(T.c)(Object(U.e)("/"));case 17:o.next=23;break;case 19:return o.prev=19,o.t0=o.catch(0),o.next=23,Object(T.c)($.failure(o.t0));case 23:case"end":return o.stop()}}),H,null,[[0,19]])}function le(e){var t,a,n,r;return D.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(T.c)($.request());case 3:return o.next=5,Object(T.d)(X);case 5:return t=o.sent,o.next=8,Object(T.d)(V);case 8:return a=o.sent,n=e.payload,o.next=12,Object(T.b)(M.deleteBook,t,n);case 12:return r=a.filter((function(e){return e.bookId!==n})),o.next=15,Object(T.c)($.success(r));case 15:return o.next=17,Object(T.c)(Object(U.e)("/"));case 17:o.next=23;break;case 19:return o.prev=19,o.t0=o.catch(0),o.next=23,Object(T.c)($.failure(o.t0));case 23:case"end":return o.stop()}}),Q,null,[[0,19]])}function ue(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.e)(ee,re);case 2:return e.next=4,Object(T.f)(te,oe);case 4:return e.next=6,Object(T.f)(ae,ce);case 6:return e.next=8,Object(T.f)(ne,le);case 8:case"end":return e.stop()}}),Z)}var ie=Object(L.createReducer)({books:null,loading:!1,error:null},(B={},Object(q.a)(B,"my-books/books/BOOKS_PENDING",(function(e){return{loading:!0,books:e.books,error:null}})),Object(q.a)(B,"my-books/books/BOOKS_SUCCESS",(function(e,t){return{loading:!1,books:t.payload,error:null}})),Object(q.a)(B,"my-books/books/BOOKS_FAILURE",(function(e,t){return{loading:!1,books:null,error:t.payload}})),B));function se(){var e=Object(l.d)();return{goBack:Object(n.useCallback)((function(){e(Object(U.c)())}),[e]),goEdit:Object(n.useCallback)((function(t){e(Object(U.e)("/edit/".concat(t)))}),[e]),goAdd:Object(n.useCallback)((function(){e(Object(U.e)("/add"))}),[e]),goDetail:Object(n.useCallback)((function(t){e(Object(U.e)("/book/".concat(t)))}),[e])}}var me=a(119),de=a(368),_e=a(370),be=function(){function e(){Object(G.a)(this,e)}return Object(K.a)(e,null,[{key:"login",value:function(){var e=Object(z.a)(D.a.mark((function e(t){var a,n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.next=3,F.a.post("https://api.marktube.tv/v1/me",{email:a,password:n});case 3:return r=e.sent,e.abrupt("return",r.data.token);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(z.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.delete("https://api.marktube.tv/v1/me",{headers:{Authorization:"Bearer ".concat(t)}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),pe=function(){function e(){Object(G.a)(this,e)}return Object(K.a)(e,null,[{key:"get",value:function(){return localStorage.getItem("token")}},{key:"set",value:function(e){localStorage.setItem("token",e)}},{key:"remove",value:function(){localStorage.removeItem("token")}}]),e}(),fe=D.a.mark(Be),ke=D.a.mark(Ae),ge=D.a.mark(Se),Ee={prefix:"my-books/auth"},ve=Object(de.a)({SUCCESS:function(e){return{token:e}}},"PENDING","FAIL",Ee),Oe=ve.success,he=ve.pending,je=ve.fail,xe=Object(_e.a)({PENDING:function(e){return Object(me.a)({},e,{loading:!0,error:null})},SUCCESS:function(e,t){return Object(me.a)({},e,{token:t.payload.token,loading:!1,error:null})},FAIL:function(e,t){return Object(me.a)({},e,{loading:!1,error:t.payload})}},{token:null,loading:!1,error:null},Ee),Ne=Object(de.a)({LOGIN:function(e){return{email:e.email,password:e.password}}},"LOGOUT",Ee),ye=Ne.login,we=Ne.logout;function Be(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.e)("".concat(Ee.prefix,"/LOGIN"),Ae);case 2:return e.next=4,Object(T.e)("".concat(Ee.prefix,"/LOGOUT"),Se);case 4:case"end":return e.stop()}}),fe)}function Ae(e){var t,a,n;return D.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(T.c)(he());case 3:return r.next=5,Object(T.b)(be.login,e.payload);case 5:return t=r.sent,pe.set(t),r.next=9,Object(T.c)(Oe(t));case 9:return r.next=11,Object(T.c)(Object(U.e)("/"));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(0),r.next=17,Object(T.c)(je(new Error((null===r.t0||void 0===r.t0||null===(a=r.t0.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||"UNKNOWN_ERROR")));case 17:case"end":return r.stop()}}),ke,null,[[0,13]])}function Se(){var e;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(T.c)(he());case 3:return t.next=5,Object(T.d)(X);case 5:return e=t.sent,t.next=8,Object(T.b)(be.logout,e);case 8:t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:return t.prev=12,pe.remove(),t.next=16,Object(T.c)(Oe(null));case 16:return t.next=18,Object(T.c)(Object(U.e)("/signin"));case 18:return t.finish(12);case 19:case"end":return t.stop()}}),ge,null,[[0,10,12,19]])}function Ce(){var e=Object(l.d)();return{login:Object(n.useCallback)((function(t){var a=t.email,n=t.password;e(ye({email:a,password:n}))}),[e]),logout:Object(n.useCallback)((function(){e(we())}),[e])}}var Ie=function(){var e=Object(l.d)(),t=Ce().logout,a=se(),o=a.goAdd,c=a.goDetail,u=a.goEdit,i=Object(n.useCallback)((function(t){e(ne(t))}),[e]),s=Object(l.e)((function(e){return e.books})),m=s.books,d=s.loading,_=s.error;return Object(n.useEffect)((function(){m||e(ee())}),[e,m]),r.a.createElement(r.a.Fragment,null,_?t():r.a.createElement(C,{books:m,loading:d,goAdd:o,logout:t,goDetail:c,goEdit:u,removeBook:i}))},Re=function(){return null===i()?r.a.createElement(u.a,{to:"/signin"}):r.a.createElement(Ie,null)},De=a(369),qe=a(372),Le=a(113),Te=a.n(Le),Ue=a(379),ze=a(17),Ge=a.n(ze),Ke=function(e){var t=e.loading,a=e.logout,n=e.onSubmitAddBook,o=e.goBack,c=r.a.useRef(null),l=r.a.useRef(null),u=r.a.useRef(null),i=r.a.useRef(null);return r.a.createElement(k,null,r.a.createElement(s.a,{onBack:o,title:r.a.createElement("div",null,r.a.createElement(Ue.a,null)," Add Book"),subTitle:"Add Your Book",extra:[r.a.createElement(m.a,{key:"1",type:"primary",className:Ge.a.button_logout,onClick:a},"Logout")]}),r.a.createElement("img",{src:"/bg_list.png",className:Ge.a.bg,alt:"books"}),r.a.createElement("div",{className:Ge.a.add},r.a.createElement("div",{className:Ge.a.input_title},"Title",r.a.createElement("span",{className:Ge.a.required}," *")),r.a.createElement("div",{className:Ge.a.input_area},r.a.createElement(De.a,{placeholder:"Title",ref:c,className:Ge.a.input})),r.a.createElement("div",{className:Ge.a.input_comment},"Comment",r.a.createElement("span",{className:Ge.a.required}," *")),r.a.createElement("div",{className:Ge.a.input_area},r.a.createElement(Te.a,{rows:4,placeholder:"Comment",ref:l,className:Ge.a.input})),r.a.createElement("div",{className:Ge.a.input_author},"Author",r.a.createElement("span",{className:Ge.a.required}," *")),r.a.createElement("div",{className:Ge.a.input_area},r.a.createElement(De.a,{placeholder:"Author",ref:u,className:Ge.a.input})),r.a.createElement("div",{className:Ge.a.input_url},"URL",r.a.createElement("span",{className:Ge.a.required}," *")),r.a.createElement("div",{className:Ge.a.input_area},r.a.createElement(De.a,{placeholder:"URL",ref:i,className:Ge.a.input})),r.a.createElement("div",{className:Ge.a.button_area},r.a.createElement(m.a,{size:"large",loading:t,onClick:function(){var e=c.current.state.value,t=l.current.state.value,a=u.current.state.value,r=i.current.state.value;if(void 0===e||void 0===t||void 0===a||void 0===r)return void qe.a.error("Please fill out all inputs");n({title:e,message:t,author:a,url:r})},className:Ge.a.button},"Add"))))},Pe=function(){var e=Object(l.d)(),t=Object(n.useCallback)((function(t){e(te(t))}),[e]),a=Ce().logout,o=se().goBack;return r.a.createElement(Ke,{loading:!1,logout:a,onSubmitAddBook:t,goBack:o})},Fe=function(){return null===i()?r.a.createElement(u.a,{to:"/signin"}):r.a.createElement(Pe,null)},We=a(373),Me=a(374),Xe=a(21),Ve=a.n(Xe),Ye=function(e){var t=e.loading,a=e.login,o=e.error,c=r.a.useRef(null),l=r.a.useRef(null);return Object(n.useEffect)((function(){if(null!==o)switch(o.message){case"USER_NOT_EXIST":qe.a.error("User not exist");break;case"PASSWORD_NOT_MATCH":qe.a.error("Wrong password");break;default:qe.a.error("Unknown error occured")}}),[o]),r.a.createElement("form",null,r.a.createElement(We.a,{align:"middle",className:Ve.a.signin_row},r.a.createElement(Me.a,{span:24},r.a.createElement(We.a,{className:Ve.a.signin_contents},r.a.createElement(Me.a,{span:12},r.a.createElement("img",{src:"/bg_signin.png",alt:"Signin",className:Ve.a.signin_bg})),r.a.createElement(Me.a,{span:12},r.a.createElement("div",{className:Ve.a.signin_title},"My Books"),r.a.createElement("div",{className:Ve.a.signin_subtitle},"Please Note Your Opinion"),r.a.createElement("div",{className:Ve.a.signin_underline}),r.a.createElement("div",{className:Ve.a.email_title},"Email",r.a.createElement("span",{className:Ve.a.required}," *")),r.a.createElement("div",{className:Ve.a.input_area},r.a.createElement(De.a,{placeholder:"Email",autoComplete:"email",name:"email",ref:c,className:Ve.a.input})),r.a.createElement("div",{className:Ve.a.password_title},"Password",r.a.createElement("span",{className:Ve.a.required}," *")),r.a.createElement("div",{className:Ve.a.input_area},r.a.createElement(De.a,{type:"password",autoComplete:"current-password",ref:l,className:Ve.a.input})),r.a.createElement("div",{className:Ve.a.button_area},r.a.createElement(m.a,{size:"large",loading:t,onClick:function(){var e,t,n=null===(e=c.current)||void 0===e?void 0:e.state.value,r=null===(t=l.current)||void 0===t?void 0:t.state.value;a({email:n,password:r})},className:Ve.a.button},"Sign In")))))))},Je=function(){var e=Object(l.e)((function(e){return e.auth.loading})),t=Object(l.e)((function(e){return e.auth.error})),a=Ce().login;return r.a.createElement(Ye,{loading:e,error:t,login:a})},He=function(){return null!==i()?r.a.createElement(u.a,{to:"/"}):r.a.createElement(Je,null)},Qe=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"NotFound"))},Ze=function(e){var t=e.error;return void 0===t?r.a.createElement("div",null,"Unknown Error"):r.a.createElement("div",null,t.message)},$e=a(213),et=a.n($e),tt=a(54),at=a(34),nt=a(214),rt=a(46),ot=a(182),ct=a(219),lt=function(e){return Object(at.combineReducers)({books:ie,auth:xe,router:Object(tt.b)(e)})},ut=D.a.mark(it);function it(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)([Be(),ue()]);case 2:case"end":return e.stop()}}),ut)}var st=Object(rt.a)(),mt=Object(ct.a)(),dt=function(){var e=pe.get(),t=Object(at.createStore)(lt(st),{auth:{token:e,loading:!1,error:null}},Object(nt.composeWithDevTools)(Object(at.applyMiddleware)(Object(ot.a)(st),mt)));return mt.run(it),t},_t=a(50),bt=a.n(_t),pt=De.a.TextArea,ft=function(e){var t=e.book,a=e.logout,n=e.goEdit,o=e.goBack;return null==t?r.a.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement("h1",null,"NotFound Book"),r.a.createElement("h3",null,"this is incorrect access")):r.a.createElement(k,null,r.a.createElement(s.a,{onBack:o,title:r.a.createElement("div",null,r.a.createElement(h.a,null)," ",t.title),subTitle:t.author,extra:[r.a.createElement(m.a,{key:"2",type:"primary",onClick:function(){t&&n(t.bookId)},className:bt.a.button},"Edit"),r.a.createElement(m.a,{key:"1",type:"primary",className:bt.a.button,onClick:a},"Logout")]}),r.a.createElement("img",{src:"/bg_list.png",className:bt.a.bg,alt:"books"}),r.a.createElement("div",{className:bt.a.detail},r.a.createElement("div",{className:bt.a.message_title},"My Comment "),r.a.createElement("div",{className:bt.a.message},r.a.createElement(pt,{rows:4,value:t.message,readOnly:!0,className:bt.a.message_textarea})),r.a.createElement("div",{className:bt.a.button_area})))};function kt(e){var t=Object(l.e)((function(e){return e.books.books}));return null==t?null:t.find((function(t){return t.bookId===e}))}function gt(){var e=Object(u.f)().id;return void 0===e?-1:parseInt(e)}var Et=function(){var e=Ce().logout,t=se(),a=t.goEdit,n=t.goBack,o=kt(gt());return r.a.createElement(ft,{book:o,logout:e,goEdit:a,goBack:n})},vt=function(e){e.match;return null===i()?r.a.createElement(u.a,{to:"/signin"}):r.a.createElement(Et,null)},Ot=a(18),ht=a.n(Ot),jt=function(e){var t=e.book,a=e.logout,o=e.updateBook,c=e.goBack,l=Object(n.useRef)(null),u=Object(n.useRef)(null),i=Object(n.useRef)(null),d=Object(n.useRef)(null);return null==t?r.a.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement("h1",null,"NotFound Book"),r.a.createElement("h3",null,"this is incorrect access")):r.a.createElement(k,null,r.a.createElement(s.a,{onBack:c,title:r.a.createElement("div",null,r.a.createElement(Ue.a,null)," Edit Book"),subTitle:"Edit Your Book",extra:[r.a.createElement(m.a,{key:"1",type:"primary",className:ht.a.button_logout,onClick:a},"Logout")]}),r.a.createElement("img",{src:"/bg_list.png",className:ht.a.bg,alt:"books"}),r.a.createElement("div",{className:ht.a.edit},r.a.createElement("div",{className:ht.a.input_title},"Title",r.a.createElement("span",{className:ht.a.required}," *")),r.a.createElement("div",{className:ht.a.input_area},r.a.createElement(De.a,{placeholder:"Title",ref:l,defaultValue:t.title||"",className:ht.a.input})),r.a.createElement("div",{className:ht.a.input_comment},"Comment",r.a.createElement("span",{className:ht.a.required}," *")),r.a.createElement("div",{className:ht.a.input_area},r.a.createElement(Te.a,{rows:4,placeholder:"Comment",ref:u,defaultValue:t.message||"",className:ht.a.input,style:{minHeight:100}})),r.a.createElement("div",{className:ht.a.input_author},"Author"),r.a.createElement("div",{className:ht.a.input_area},r.a.createElement(De.a,{placeholder:"Author",ref:i,defaultValue:t.author||"",className:ht.a.input})),r.a.createElement("div",{className:ht.a.input_url},"URL"),r.a.createElement("div",{className:ht.a.input_area},r.a.createElement(De.a,{placeholder:"URL",ref:d,defaultValue:t.url||"",className:ht.a.input})),r.a.createElement("div",{className:ht.a.button_area},r.a.createElement(m.a,{size:"large",onClick:function(){if(null==t)return;var e=l.current.state.value,a=u.current.state.value,n=i.current.state.value,r=d.current.state.value;if(void 0===e||void 0===a||void 0===n||void 0===r)return void qe.a.error("Please fill out all inputs");o({bookId:t.bookId,bookReq:{title:e,author:n,message:a,url:r}})},className:ht.a.button},"Update"))))},xt=function(){var e=Object(l.d)(),t=Ce().logout,a=se().goBack,n=kt(gt());return r.a.createElement(jt,{book:n,logout:t,updateBook:function(t){e(ae(t))},goBack:a})},Nt=function(){return null===i()?r.a.createElement(u.a,{to:"/signin"}):r.a.createElement(xt,null)},yt=function(){return r.a.createElement(et.a,{FallbackComponent:Ze},r.a.createElement(tt.a,{history:st},r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/edit/:id",component:Nt}),r.a.createElement(u.b,{exact:!0,path:"/book/:id",component:vt}),r.a.createElement(u.b,{exact:!0,path:"/signin",component:He}),r.a.createElement(u.b,{exact:!0,path:"/add",component:Fe}),r.a.createElement(u.b,{exact:!0,path:"/",component:Re}),r.a.createElement(u.b,{component:Qe}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var wt=dt();c.a.render(r.a.createElement(l.a,{store:wt},r.a.createElement(yt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,a){e.exports={detail:"Detail_detail__pfKo6",bg:"Detail_bg__Riz_i",message_title:"Detail_message_title__170Xf",message:"Detail_message__2iFsz",message_textarea:"Detail_message_textarea__4vXE5",button_area:"Detail_button_area__21mDq",button:"Detail_button__2971z"}}},[[221,1,2]]]);
//# sourceMappingURL=main.e1c10751.chunk.js.map